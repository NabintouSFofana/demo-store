{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\sandi\\\\chec-store\\\\pages\\\\_app.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\n/* global process */\nimport React, { useEffect, useState } from 'react';\nimport '../style/scss/style.scss';\nimport { useStore } from '../store';\nimport { Provider } from 'react-redux';\nimport commerce from '../lib/commerce';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { setCustomer } from '../store/actions/authenticateActions';\n\nvar MyApp = function MyApp(_ref) {\n  _s();\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps;\n  var store = useStore(pageProps.initialState);\n\n  var _useState = useState(null),\n      stripePromise = _useState[0],\n      setStripePromise = _useState[1];\n\n  useEffect(function () {\n    if (process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY) {\n      // has API key\n      setStripePromise(loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY));\n    }\n\n    setCustomer();\n    commerce.products.list().then(function (res) {\n      store.dispatch({\n        type: 'STORE_PRODUCTS',\n        payload: res.data\n      });\n    });\n    commerce.categories.list().then(function (res) {\n      console.log(res.data);\n      store.dispatch({\n        type: 'STORE_CATEGORIES',\n        payload: res.data\n      });\n    });\n  }, [store]);\n  return __jsx(Provider, {\n    store: store,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    stripe: stripePromise,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  })));\n};\n\n_s(MyApp, \"mSfC3T7OiMogvF5rxfL6R5aQH8E=\", false, function () {\n  return [useStore];\n});\n\n_c = MyApp;\nexport default MyApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyApp\");","map":{"version":3,"sources":["C:/Users/sandi/chec-store/pages/_app.js"],"names":["React","useEffect","useState","useStore","Provider","commerce","loadStripe","setCustomer","MyApp","Component","pageProps","store","initialState","stripePromise","setStripePromise","process","env","NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY","products","list","then","res","dispatch","type","payload","data","categories","console","log"],"mappings":";;;;;;;;AAAA;AACA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAO,0BAAP;AACA,SAASC,QAAT,QAAyB,UAAzB;AACA,SAASC,QAAT,QAA0B,aAA1B;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,WAAT,QAA4B,sCAA5B;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAA4B;AAAA;;AAAA,MAA1BC,SAA0B,QAA1BA,SAA0B;AAAA,MAAfC,SAAe,QAAfA,SAAe;AAExC,MAAMC,KAAK,GAAGR,QAAQ,CAACO,SAAS,CAACE,YAAX,CAAtB;;AAFwC,kBAGEV,QAAQ,CAAC,IAAD,CAHV;AAAA,MAGjCW,aAHiC;AAAA,MAGlBC,gBAHkB;;AAKxCb,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIc,OAAO,CAACC,GAAR,CAAYC,kCAAhB,EAAoD;AAAE;AACpDH,MAAAA,gBAAgB,CAACR,UAAU,CAACS,OAAO,CAACC,GAAR,CAAYC,kCAAb,CAAX,CAAhB;AACD;;AAEDV,IAAAA,WAAW;AAEXF,IAAAA,QAAQ,CAACa,QAAT,CAAkBC,IAAlB,GAAyBC,IAAzB,CAA8B,UAACC,GAAD,EAAS;AACrCV,MAAAA,KAAK,CAACW,QAAN,CAAe;AACbC,QAAAA,IAAI,EAAE,gBADO;AAEbC,QAAAA,OAAO,EAAEH,GAAG,CAACI;AAFA,OAAf;AAID,KALD;AAOApB,IAAAA,QAAQ,CAACqB,UAAT,CAAoBP,IAApB,GAA2BC,IAA3B,CAAgC,UAACC,GAAD,EAAS;AACvCM,MAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACI,IAAhB;AACAd,MAAAA,KAAK,CAACW,QAAN,CAAe;AACbC,QAAAA,IAAI,EAAE,kBADO;AAEbC,QAAAA,OAAO,EAAEH,GAAG,CAACI;AAFA,OAAf;AAID,KAND;AAQD,GAtBQ,EAsBN,CAACd,KAAD,CAtBM,CAAT;AAwBA,SACE,MAAC,QAAD;AAAU,IAAA,KAAK,EAAEA,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,SAAD,eACMD,SADN;AAEE,IAAA,MAAM,EAAEG,aAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,CADF;AASD,CAtCD;;GAAML,K;UAEUL,Q;;;KAFVK,K;AAwCN,eAAeA,KAAf","sourcesContent":["/* global process */\r\nimport React, {useEffect, useState} from 'react';\r\nimport '../style/scss/style.scss';\r\nimport { useStore } from '../store';\r\nimport { Provider  } from 'react-redux';\r\nimport commerce from '../lib/commerce';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { setCustomer } from '../store/actions/authenticateActions';\r\n\r\nconst MyApp = ({Component, pageProps}) => {\r\n\r\n  const store = useStore(pageProps.initialState);\r\n  const [stripePromise, setStripePromise] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY) { // has API key\r\n      setStripePromise(loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY));\r\n    }\r\n\r\n    setCustomer();\r\n\r\n    commerce.products.list().then((res) => {\r\n      store.dispatch({\r\n        type: 'STORE_PRODUCTS',\r\n        payload: res.data\r\n      })\r\n    });\r\n\r\n    commerce.categories.list().then((res) => {\r\n      console.log(res.data)\r\n      store.dispatch({\r\n        type: 'STORE_CATEGORIES',\r\n        payload: res.data\r\n      })\r\n    });\r\n\r\n  }, [store])\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <Component\r\n        {...pageProps}\r\n        stripe={stripePromise}\r\n      />\r\n    </Provider>\r\n  );\r\n\r\n}\r\n\r\nexport default MyApp;\r\n"]},"metadata":{},"sourceType":"module"}